# ES6学习指南

## 数组

* ES6中数组的新功能


| 方法 | 描述 |
| ------------- | ------------- | 
| @@iterator | 返回一个包含数组键值对的迭代器对象，可以通过同步调用得到数组元素的键值对 | 
| copyWithin | 复制数组中一系列元素到同一数组指定的起始位置 | 
| entries | 返回包含数组所有键值对的@@iterator | 
| includes | 如果数组中存在某个元素则返回true，否则返回false，ES7新增 |
| find | 根据回调函数给定的条件从数组中查找元素，如果找到则返回该元素 |
| findIndex | 根据回调函数给定的条件从数组中查找元素，如果找到则返回该元素在数组中的索引 |
| fill | 用静态值填充数组 |
| from | 根据已有数组创建一个新数组 |
| keys | 返回包含数组所有索引的@@iterator |
| of | 根据传入的参数创建一个新数组 |
| values | 返回包含数组中所有值得@@iterator |

除了这些新的方法，还有一种用for...of循环来迭代数组的新做法，以及可以从数组实例得到的迭代器对象。

1、使用foreach和箭头函数迭代

```javascript
    numbers.foreach(x => {
        console.log((x % 2) == 0)
    })
```

2、使用for...of循环迭代
ES6引入了迭代数组值得for...of循环
```javascript
for(let n of numbers){
    console.log((n % 2) == 0)
}
```

3、使用ES6新增的迭代器（@@iterator）
ES6还为Array类增加了一个@@iterator属性，需要通过Symbol.iterator来访问。

```javascript
let iterator = numbers[Symbol.iterator]();
console.log(iterator.next().value); // 1
console.log(iterator.next().value); // 2
console.log(iterator.next().value); // 3
console.log(iterator.next().value); // 4
console.log(iterator.next().value); // 5
```

然后，不断调用迭代器的next方法，就能依次得到数组中的值。
数组中的所有值都迭代完之后，iterator.next().value就会返回undefined。


* 数组的entries、keys和values方法
entries方法返回包含键值对@@iterator，下面是使用这个方法的示例：
```javascript
let aEntries = numbers.entries(); // 得到键值对的迭代器
console.log(aEntries.next().value); // [0, 1] - 位置0的值为1
console.log(aEntries.next().value); // [1, 2] - 位置1的值为2
console.log(aEntries.next().value); // [2, 3] - 位置2的值为3
```
numbers数组中都是数字，key是数组中的位置，value是保存在数组索引的值。
使用集合、字典、散列表等数据结构时，能够取出键值对是很有用的。
keys方法返回包含数组索引的@@iterator
```javascript
let aKeys = numbers.keys(); // 得到数组索引的迭代器
console.log(aKeys.next()); // {value: 0, done: false }
console.log(aKeys.next()); // {value: 1, done: false }
console.log(aKeys.next()); // {value: 2, done: false }
```
keys方法会返回numbers数组的索引。一旦没有可迭代的值，aKeys.next()就会返回一个value属性为undefined，done属性为true的对象，如果done属性值为false，就意味着还有可迭代的值。

values方法返回的@@iterator则包含数组的值，使用这个方法的代码示例如下：
```javascript
let aValues = numbers.values();
console.log(aValues.next()); // {value: 1, done: false }
console.log(aValues.next()); // {value: 2, done: false }
console.log(aValues.next()); // {value: 3, done: false }
```







